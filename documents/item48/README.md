# item 48: 더이상 사용하지 않는 객체의 레퍼런스를 제거하라

## 메모리 관리에 대한 고찰 

- 자바 같은 JVM 계열의 언어는 GC 가 알아서 메모리 관리를 해준다. 그래서 특별히 메모리 참조 해제를 생각해보지 않는 경우가 많다.
- 하지만 이 경우에 메모리 leak 과 같은 문제가 발생할 수 있기 때문에, 안쓰는 객체는 메모리를 해제해준다는 정도는 생각하는게 좋다. 
  - `companion object` 에서 객체를 할당하면 해제되지 않는다는 점을 알자. 여기서 큰 객체를 두고 이걸 사용하지 않는다면 메모리 낭비다.
  - 실제로 메모리를 제거할려면 해당 값에 `null` 을 넣자. (pop 할 때 사이즈만 줄이는 스택 예시)
  - 한번만 쓰는 객체는 쓰고나서 `null` 로 초기화 하는 것 (lazy initializer() 예시.)
- **코드를 짤 떄 가독성과 확장성 이외에 늘 메모리를 어떻게 쓰는지 생각해보는게 좋다.** 
  - 나의 규칙을 생각해보면 
  - 일단 코드를 짠다.
  - 필터링을 한다. 
    - 변경 포인트가 하나인가. (SRP) 
    - 추상화가 단계별로 되어있는가. 
    - 단방향 의존성 관계가 이뤄져있는가. (할리우드 원칙)
    - 변경될 가능성이 있는 경우는 OCP 가 제대로 지켜져 있는가. 
    - **(메모리 관리를 신경쓰고 있는가 를 추가하자. 불필요한 객체를 생성하고 있는가, 안쓰고 있는 객체는 제거했는가.)**
      - 캐시를 사용할 땐 소프트레퍼런스를 이용하자.
      - **(안드로이드의 경우가 좀 더 메모리 압박이 있구나.)**
